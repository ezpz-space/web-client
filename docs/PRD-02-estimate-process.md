# PRD-02: 견적 입력 프로세스

> **버전**: 2.0 (Figma Design 기반)
> **최종 수정**: 2026-02-10

---

## 1. 개요

Figma 디자인 기준, 견적 입력은 **다중 창문(Multi-window)** 구조입니다.
사용자는 주소를 한 번 입력한 후, 여러 개의 창문 정보를 각각 등록하여 종합 가견적을 받습니다.

### 전체 흐름

```
[Sign-in] → [주소 입력] → [창 N 정보: 유형(1/3) → 가로(2/3) → 세로(3/3) → 상세(선택)]
                                                ↕ (반복)
                          [창 목록] → [최종 견적 확인하기] → [로딩] → [결과]
```

---

## 2. Sign-in (`/estimate/step1`)

### 2.1 UI 구성

| 요소 | Figma 카피 |
|------|-----------|
| 네비 제목 (18px/700) | `견적 알아보기` |
| 부제 (16px/500) | `입력하신 정보는 견적 저장 및 재조회 용도로만 사용돼요.` |
| 이름 라벨 (15px/400) | `이름` |
| 이름 placeholder | `이름을 입력해주세요` |
| 연락처 라벨 (15px/400) | `연락처` |
| 연락처 placeholder | `010-0000-0000` |
| CTA 버튼 (16px/600) | `신규 견적 알아보기` |
| Skip 버튼 (17px/500) | `건너뛰기` |

### 2.2 기존 견적 유저

| 요소 | Figma 카피 |
|------|-----------|
| 부제 (16px/500) | `이전에 저장한 견적을 불러오기 위해 본인 확인이 필요해요.` |
| CTA 버튼 (16px/600) | `저장한 견적 불러오기` |
| Skip 버튼 (17px/500) | `건너뛰기` |

### 2.3 Validation

| 필드 | 규칙 |
|------|------|
| 이름 | 2~20자, 한글/영문 |
| 연락처 | 010 시작, 10~11자리, 자동 하이픈 |

---

## 3. 주소 입력 (`/estimate/step2`)

### 3.1 UI 구성

| 요소 | Figma 카피 |
|------|-----------|
| 네비 제목 (18px/700) | `견적 알아보기` |
| 제목 (24px/700) | `우리집 창견적, 알아볼까요?` |
| 부제 (16px/400) | `주소를 참고해 가견적 범위를 안내드려요.` |
| 주소 라벨 (15px/400) | `주소` |
| 상세 주소 라벨 (15px/400) | `상세 주소` |
| CTA 버튼 (16px/600) | `계속하기` |
| 임시저장 (16px/600) | `임시저장` |

### 3.2 주소 검색

- 카카오 주소 API 연동
- 주소 선택 시 자동 채워짐 → 상세 주소 필드로 포커스 이동

---

## 4. 창 정보 입력 (Per-window Sub-flow)

각 창문마다 아래 4단계를 거칩니다. 네비 제목은 `창 N` (N번째 창).

### 4.1 창 유형 선택 (1/3)

| 요소 | Figma 카피 |
|------|-----------|
| 네비 제목 (18px/700) | `창 1` (N번째 창) |
| 스텝 (16px/400) | `1/3` |
| 제목 (24px/700) | `창 유형이 무엇인가요?` |
| 도움말 링크 (16px/500) | `일반 창과 발코니 창의 차이` |
| 옵션 1 (18px/600) | `일반 창` |
| 옵션 2 (18px/600) | `발코니 창` |

**발코니 선택 시 하위 옵션:**

| 요소 | Figma 카피 |
|------|-----------|
| 옵션 A (16px/600) | `비확장` |
| 옵션 B (16px/600) | `확장` |
| 에러 (13px/400) | `확장 여부가 선택되지 않았습니다.` |

**도움말 Bottom Sheet (일반/발코니 차이):**

| 요소 | Figma 카피 |
|------|-----------|
| 제목 (24px/700) | `일반 창과 발코니 창의 차이` |
| 요약 (15px/400) | `창을 열었을 때 외부 공기가 바로 들어오면 발코니 창, 아니면 일반 창이에요.` |
| 일반 창 제목 (20px/600) | `일반 창` |
| 일반 창 부제 (18px/600) | `실내 공간과 실내 공간 사이` |
| 일반 창 설명 (16px/400) | `창을 열어도 바로 바깥 공기가 들어오지 않는 창이에요. 창 너머가 또 다른 실내 공간이라면 일반 창에 해당해요.` |
| 발코니 창 제목 (20px/600) | `발코니 창` |
| 발코니 창 부제 (18px/600) | `실내 공간과 외부 공간 사이` |
| 발코니 창 설명 (16px/400) | `창을 열면 바로 바깥 공기가 느껴지는 창이에요. 외부 공간과 연결된 창이라면 발코니 창이에요.` |

### 4.2 가로 길이 입력 (2/3)

| 요소 | Figma 카피 |
|------|-----------|
| 스텝 (16px/400) | `2/3` |
| 제목 (24px/700) | `창문의 가로 길이를 측정해주세요.` |
| 도움말 링크 (16px/500) | `창문 길이 측정 방법` |
| 단위 (24px/400) | `mm` |
| 입력값 (60px/700) | 사용자 입력 (예: `1250`) |
| CTA 버튼 (16px/600) | `계속하기` |

### 4.3 세로 길이 입력 (3/3)

| 요소 | Figma 카피 |
|------|-----------|
| 스텝 (16px/400) | `3/3` |
| 제목 (24px/700) | `창문의 세로 길이를 측정해주세요.` |
| 도움말 링크 (16px/500) | `창문 길이 측정 방법` |
| CTA 버튼 (16px/600) | `계속하기` |

**도움말 Bottom Sheet (측정 방법):**

| 요소 | Figma 카피 |
|------|-----------|
| 제목 (24px/700) | `창문 길이 측정 방법` |
| 단위 제목 (18px/600) | `단위` |
| 단위 설명 (16px/400) | `모든 치수는 mm 기준으로 입력해 주세요.` |
| 기준 제목 (18px/600) | `기준` |
| 기준 설명 (16px/400) | `벽과 맞닿아 있는 창틀의 바깥쪽 기준으로 가로 세로 길이를 측정해주세요. (길이가 일정하지 않은 경우에는 가장 긴 값을 입력해 주세요.)` |

### 4.4 상세 정보 (선택)

| 요소 | Figma 카피 |
|------|-----------|
| 제목 (24px/700) | `(선택) 상세 정보를 입력해주세요.` |
| 부제 (16px/400) | `더 정확한 견적이 필요하다면` |
| 도움말 (16px/500) | `유리와 창 구성 안내` |
| 유리 유형 라벨 (14px/400) | `유리 유형` |
| 유리 옵션 (14px/600) | `투명` / `로이` / `슈퍼 더블로이` |
| 창 구성 라벨 (14px/400) | `창 구성` |
| 구성 옵션 (14px/600) | `픽스` / `2W` / `3W` |
| CTA 버튼 (16px/600) | `추가하기` |

**도움말 Bottom Sheet (유리 유형):**

| 유형 | 설명 |
|------|------|
| 투명 유리 | `가장 기본적인 유리예요. 채광이 좋고, 가장 일반적으로 사용되는 유형이에요.` |
| 로이 유리 (Low-E) | `유리 표면에 은(Ag) 코팅이 적용돼 실내 열 손실을 줄여주고 난방 효율을 높여줘요.` |
| 슈퍼 더블 로이 | `은(Ag) 코팅을 두 겹으로 적용한 사양이에요. 로이 유리보다 단열 성능이 더 강화된 옵션이에요.` |

**도움말 Bottom Sheet (창 구성):**

| 유형 | 설명 |
|------|------|
| 픽스 | `열고 닫을 수 없는 고정형 창이에요.` |
| 2W | `두 짝으로 구성된 미닫이 창입니다.` |
| 3W | `세 짝으로 구성되어 개방 폭이 넓은 미닫이 창입니다.` |

---

## 5. 창 목록 (`/estimate/windows`)

### 5.1 UI 구성

| 요소 | Figma 카피 |
|------|-----------|
| 제목 (24px/700) | `창 정보를 알려주세요` |
| 창 카드 제목 (16px/700) | `창 1`, `창 2`, ... |
| 요약 텍스트 (13px/500) | `발코니 창, 166*200, 확장형, 투명, 2W` |
| 수량 표시 (16px/600) | `총 N개` |
| 예상 시공가 (빈칸) (14px/400) | `예상 시공가` |
| 예상 시공가 (계산됨) (16px/700) | `700만원 이상` |
| 추가 버튼 (14px/400) | `추가하기` |
| 입력 버튼 (14px/600) | `정보 입력하기` |
| 면책 문구 (14px/400) | `입력한 정보로 계산된 예상 금액이며, 실제 시공가는 현장 조건에 따라 달라질 수 있습니다.` |
| 최종 CTA (16px/600) | `최종 견적 확인하기` |
| 저장 CTA (16px/600) | `저장하기` |

### 5.2 창 상세 확인 카드

| 요소 | Figma 카피 |
|------|-----------|
| 제목 (24px/700) | `창 1 정보를 확인해주세요.` |
| 창 유형 라벨 (16px/600) | `창 유형` |
| 창 유형 값 (16px/500) | `발코니 창` |
| 하위 유형 (15px/400) | `확장형` |
| 가로 라벨 (16px/600) | `가로` |
| 세로 라벨 (16px/600) | `세로` |
| 상세 정보 라벨 (14px/600) | `상세 정보` |
| 유리 유형 라벨 (14px/400) | `유리 유형` |
| 창 구성 라벨 (14px/400) | `창 구성` |

---

## 6. 로딩 화면 (`/estimate/loading`)

| 요소 | Figma 카피 |
|------|-----------|
| 제목 (24px/700) | `최종 견적을 준비하고 있어요` |
| 부제 (16px/400) | `창 정보와 조건을 하나씩 확인 중이에요` |

- 스피너 또는 로딩 애니메이션
- API 응답 수신 후 자동으로 결과 페이지로 이동

---

## 7. 데이터 저장

- 각 단계 완료 시 `localStorage`에 자동 저장 (`ezpz_estimate_draft`)
- 저장 형식:

```json
{
  "createdAt": "2026-02-10T12:00:00Z",
  "userInfo": { "name": "...", "phone": "..." },
  "address": { "zonecode": "...", "address": "...", "addressDetail": "..." },
  "windows": [
    {
      "id": "uuid-1",
      "windowType": "expanded",
      "width": 1660,
      "height": 2000,
      "glassType": "clear",
      "windowConfig": "2w",
      "quantity": 1
    }
  ],
  "currentWindowIndex": 0,
  "currentStep": "window-type"
}
```

---

## 8. 접근성 요구사항

- 모든 입력 필드에 `<label>` 연결
- 에러 메시지에 `role="alert"`
- 창 유형 선택: `role="radiogroup"` + 개별 `role="radio"`
- 유리/구성 칩: `role="radiogroup"`
- 키보드만으로 전체 프로세스 완료 가능
- 도움말 Bottom Sheet: `role="dialog"`, `aria-modal="true"`
